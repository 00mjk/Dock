<!-- Copyright (c) Wiesław Šoltés. All rights reserved. -->
<!-- Licensed under the MIT license. See LICENSE file in the project root for full license information. -->
<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:id="clr-namespace:Dock.Avalonia;assembly=Dock.Avalonia"
        xmlns:idc="clr-namespace:Dock.Avalonia.Controls;assembly=Dock.Avalonia"
        xmlns:converters="clr-namespace:Dock.Avalonia.Converters;assembly=Dock.Avalonia"
        xmlns:Dock="clr-namespace:Dock.Model;assembly=Dock.Model"
        xmlns:Controls="clr-namespace:Dock.Model.Controls;assembly=Dock.Model">
    <Style Selector="idc|DockControl">
        <Style.Resources>
            <converters:OrientationConverter x:Key="OrientationConverter"/>
            <converters:AlignmentConverter x:Key="AlignmentConverter"/>
        </Style.Resources>
        <Setter Property="Template">
            <ControlTemplate>
                <ContentControl Content="{TemplateBinding Layout}">
                    <ContentControl.DataTemplates>
                        <DataTemplate DataType="Controls:ISplitterDock">
                            <idc:ProportionalStackPanelSplitter>
                                <idc:ProportionalStackPanelSplitter.Styles>
                                    <Style Selector="idc|ProportionalStackPanelSplitter">
                                        <Setter Property="Background" Value="Transparent"/>
                                    </Style>
                                </idc:ProportionalStackPanelSplitter.Styles>
                            </idc:ProportionalStackPanelSplitter>
                        </DataTemplate>
                        <DataTemplate DataType="Controls:IDocumentDock">
                            <idc:DocumentControl>
                                <idc:DocumentControl.Styles>
                                    <Style Selector="idc|DocumentControl">
                                        <Setter Property="idc:ProportionalStackPanelSplitter.Proportion" Value="{Binding Proportion}"/>
                                    </Style>
                                </idc:DocumentControl.Styles>
                            </idc:DocumentControl>
                        </DataTemplate>
                        <DataTemplate DataType="Controls:IToolDock">
                            <idc:DockToolChrome IsActive="{Binding IsActive}">
                                <idc:DockToolChrome.Styles>
                                    <Style Selector="idc|DockToolChrome">
                                        <Setter Property="idc:ProportionalStackPanelSplitter.Proportion" Value="{Binding Proportion}"/>
                                    </Style>
                                </idc:DockToolChrome.Styles>
                                <idc:ToolControl/>
                            </idc:DockToolChrome>
                        </DataTemplate>
                        <DataTemplate DataType="Controls:IProportionalDock">
                            <ItemsControl Items="{Binding VisibleDockables}">
                                <ItemsControl.Styles>
                                    <Style Selector="ItemsControl">
                                        <Setter Property="idc:ProportionalStackPanelSplitter.Proportion" Value="{Binding Proportion}"/>
                                    </Style>
                                </ItemsControl.Styles>
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <idc:ProportionalStackPanel Name="DropProportional">
                                            <idc:ProportionalStackPanel.Styles>
                                                <Style Selector="idc|ProportionalStackPanel">
                                                    <Setter Property="id:DockProperties.IsDropArea" Value="True" />
                                                    <Setter Property="Background" Value="Transparent" />
                                                    <Setter Property="Orientation" Value="{Binding Orientation, Converter={StaticResource OrientationConverter}}" />
                                                </Style>
                                            </idc:ProportionalStackPanel.Styles>
                                        </idc:ProportionalStackPanel>
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                            </ItemsControl>
                        </DataTemplate>
                        <DataTemplate DataType="Controls:IPinDock">
                            <DockPanel Name="DropPin">
                                <DockPanel.Styles>
                                    <Style Selector="DockPanel">
                                        <Setter Property="id:DockProperties.IsDropArea" Value="True"/>
                                        <Setter Property="Background" Value="Transparent"/>
                                    </Style>
                                </DockPanel.Styles>
                                <TabStrip Items="{Binding VisibleDockables}" SelectedItem="{Binding AvtiveDockable, Mode=TwoWay}">
                                    <TabStrip.Styles>
                                        <Style Selector="TabStrip">
                                            <Setter Property="Focusable" Value="False" />
                                            <Setter Property="ClipToBounds" Value="False" />
                                            <Setter Property="DockPanel.Dock" Value="{Binding Alignment, Converter={StaticResource AlignmentConverter}}" />
                                        </Style>
                                        <Style Selector="TabStrip:empty">
                                            <Setter Property="IsVisible" Value="False" />
                                        </Style>
                                        <Style Selector="TabStrip /template/ ItemsPresenter#PART_ItemsPresenter > WrapPanel">
                                            <Setter Property="Orientation" Value="Vertical"/>
                                        </Style>
                                    </TabStrip.Styles>
                                    <TabStrip.DataTemplates>
                                        <DataTemplate DataType="Dock:IDockable">
                                            <StackPanel Name="DragPin">
                                                <StackPanel.Styles>
                                                    <Style Selector="StackPanel">
                                                        <Setter Property="id:DockProperties.IsDragArea" Value="True"/>
                                                        <Setter Property="id:DockProperties.IsDropArea" Value="True"/>
                                                        <Setter Property="Background" Value="Transparent"/>
                                                        <Setter Property="Orientation" Value="Horizontal"/>
                                                        <Setter Property="Spacing" Value="2"/>
                                                    </Style>
                                                </StackPanel.Styles>
                                                <TextBlock Text="{Binding Title}" Classes="drag" Margin="2" />
                                            </StackPanel>
                                        </DataTemplate>
                                    </TabStrip.DataTemplates>
                                </TabStrip>
                                <ContentControl Content="{Binding AvtiveDockable}" IsVisible="{Binding IsExpanded}"/>
                            </DockPanel>
                        </DataTemplate>
                        <DataTemplate DataType="Controls:IRootDock">
                            <DockPanel Name="DropRoot">
                                <DockPanel.Styles>
                                    <Style Selector="DockPanel">
                                        <Setter Property="id:DockProperties.IsDropArea" Value="True"/>
                                        <Setter Property="Background" Value="Transparent"/>
                                    </Style>
                                </DockPanel.Styles>
                                <ContentControl Content="{Binding Top}" DockPanel.Dock="Top"/>
                                <ContentControl Content="{Binding Bottom}" DockPanel.Dock="Bottom"/>
                                <ContentControl Content="{Binding Left}" DockPanel.Dock="Left"/>
                                <ContentControl Content="{Binding Right}" DockPanel.Dock="Right"/>
                                <Carousel Items="{Binding VisibleDockables}" SelectedItem="{Binding AvtiveDockable, Mode=TwoWay}" IsVirtualized="False"/>
                            </DockPanel>
                        </DataTemplate>
                    </ContentControl.DataTemplates>
                </ContentControl>
            </ControlTemplate>
        </Setter>
    </Style>
</Styles>
